<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Rethinking network congestion (Especially in community networks) - matt9j:Matt Johnson</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="generator" content="Hugo 0.88.1" /><meta itemprop="name" content="Rethinking network congestion (Especially in community networks)">
<meta itemprop="description" content="Crosspost from the UW ICTD Lab&#39;s medium account"><meta itemprop="datePublished" content="2021-01-27T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-10-01T10:21:28-07:00" />
<meta itemprop="wordCount" content="1409">
<meta itemprop="keywords" content="Common Pool Resources,LTE,Bandwidth,Community Network,ICTD," /><meta property="og:title" content="Rethinking network congestion (Especially in community networks)" />
<meta property="og:description" content="Crosspost from the UW ICTD Lab&#39;s medium account" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://matt9j.net/posts/rethinking-congestion/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-10-01T10:21:28-07:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rethinking network congestion (Especially in community networks)"/>
<meta name="twitter:description" content="Crosspost from the UW ICTD Lab&#39;s medium account"/>
<meta name="twitter:site" content="@matt9j"/>
<link rel="stylesheet" href="/css/bundle.min.e343e893f1b051e102213e210b10bf9a52bdde305e250fde56890e30cc285bf5.css" integrity="sha256-40Pok/GwUeECIT4hCxC/mlK93jBeJQ/eVokOMMwoW/U=">
        <link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    
<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/">
        
          
            matt9j:
          
          
            posts
          
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu">
      
        
          
          
            <a href="/about/" class="link"><i class='fas fa-id-card'></i> About</a>
          
        
      
        
          
          
            <a href="/publications/" class="link"><i class='fas fa-book'></i> Publications</a>
          
        
      
        
          
          
            <a href="/posts/" class="link"><i class='far fa-newspaper'></i> Blog Posts</a>
          
        
      
        
          
          
            <a href="/recipes/" class="link"><i class='far fa-newspaper'></i> Recipes</a>
          
        
      
        
          
          
            <a href="/categories/" class="link"><i class='fas fa-sitemap'></i> Categories</a>
          
        
      
        
          
          
            <a href="/contact/" class="link"><i class='fas fa-envelope'></i> Contact</a>
          
        
      
      
      
    </menu>
    
    
    <a href="#lang-menu" class="lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="lang-menu" class="flyout-menu">
  <a href="#" lang="en" class="link active">English (en)</a>
  
    
      
    
      
        <a href="/es" lang="es" class="no-lang link">Español (México) (es)</a>
      
    
  
</menu>

  
</header>

    <div id="wrapper">
      <section id="site-intro" class="hidden-single-column">
  <a href="/"><img src="/img/main/profile-picture.jpg" class="circle" width="50%" alt="matt9j logo" /></a>
  <header>
    <h1>matt9j</h1>
  </header>
  <main>
    <p>A networking researcher interested in the challenges of infrastructure at the end of the tail of connectivity</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/matt9j" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//linkedin.com/in/matt9j" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/matt9j" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>





<li><a href="//scholar.google.com/citations?user=cTILBksAAAAJ" target="_blank" rel="noopener" title="Google Scholar"><i class="ai ai-google-scholar"></i></a></li>
<li><a href="//orcid.org/0000-0003-2095-0225" target="_blank" rel="noopener" title="ORCID"><i class="ai ai-orcid"></i></a></li>

<li><a href="//keybase.io/matt9j" target="_blank" rel="noopener" title="keybase" class="fab fa-keybase"></a></li>



      </ul>
    </footer>
  
</section>

      <main id="site-main">
        <article class="post">
  <header>
  <div class="title">
    
      <h2><a href="/posts/rethinking-congestion/">Rethinking network congestion (Especially in community networks)</a></h2>
    
    
      <p>Crosspost from the UW ICTD Lab&#39;s medium account</p>
    
  </div>
  <div class="meta">
    <time class="published" datetime="2021-01-27 00:00:00 &#43;0000 UTC">
      January 27, 2021
    </time>
    <span class="author"></span>
    
      <p>7 minutes read</p>
    
  </div>
</header>

  <section id="socnet-share">
    




  
        <a href="mailto:?subject=Check out this post by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&amp;body=https%3a%2f%2fmatt9j.net%2fposts%2frethinking-congestion%2f" target="_blank" class="share-btn email" data-proofer-ignore>
          <i class="fas fa-envelope"></i><p>&nbsp;Email</p>
        </a>
  


  </section>
  

  <div class="content">
    <h3 id="what-is-congestion-in-a-network-anyway">What is congestion in a network anyway?</h3>
<p>A network link suffers from congestion when demand for the link’s resources
exceeds the amount of service it can supply within some reasonable duration of
time, resulting in data being dropped on the floor or delayed. Both the
“resources” and “reasonable duration of time” are highly situational and vary by
application and type of network.[^1] Ultimately this becomes “ugh, why is the
WiFi so slow today!”</p>
<p><strong>In the presence of resource congestion, everyone on the network cannot get
everything that they want.</strong></p>
<p>I argue that networking practitioners, myself included, need to rethink how we
reason about network behavior in the presence of congestion. <em>We need to consider
how humans on their computers and phones experience congestion and how those
humans expect to resolve these fundamentally resource allocation problems.</em> The
answers are not apparent.</p>
<h2 id="hidden-mechanisms-with-hidden-assumptions">Hidden Mechanisms with Hidden Assumptions</h2>
<p>Most users don’t get much visibility into, or control over, the congestion in
their networks that causes slow service at their device. The most congested
link, known as the bottleneck, could be very distant from the user, deep in the
heart of the network, or directly connected to the user (“at the edge”). To make
matters worse, congestion can sometimes cause even more network congestion: when
a bottleneck link drops packets it cannot forward in time, those packets must be
re-transmitted, resulting in even more traffic, which leads to even more
congestion… and eventually total network failure (This tragic fate, <em>congestion
collapse</em>, is as terrible as it sounds. See <a href="https://dl.acm.org/doi/10.1145/52324.52356">Congestion Avoidance and Control,
Jacobson 1988</a>)!</p>
<p>The Internet relies on <em>congestion control protocols</em> (like TCP, BBR, or Timely)
to help traffic sources know when the network is congested and scale back the
amount of data they transmit accordingly. Congestion control protocols have
evolved extensively over the lifetime of the Internet, using a variety of
different congestion signals and strategies for managing the congestion, but all
protocols seek to accomplish this same basic task. <strong>Ultimately, congestion
management is a resource allocation problem — there is more demand for network
resources (i.e. bandwidth) than can be supplied, creating scarcity.</strong> The
available resources must somehow be allocated between the competing flows in the
network. In this context, though, modern internet networks fall woefully short
of expectations.</p>
<p>For many years academics have relied on the notion of <em>flow rate fairness</em> to
conceptualize how resources are divided in the Internet. The idea is that all
flows should altruistically follow compatible rules, and thus will evenly share
the network resources naturally in a distributed fashion. For anyone who has
worked with real systems, however, there are two immediately apparent problems
with this approach:</p>
<ul>
<li>Relying on altruistic behavior from all sources is unrealistic (whether by
malicious intent, negligence, or honest mistakes in applications).</li>
<li>It’s unclear how flows (which are concretely visible on the network) map to
actual users (real-world entities outside the network).</li>
</ul>
<p>Researchers and engineers have articulated and argued these (and other)
drawbacks for decades (see <a href="https://api.semanticscholar.org/CorpusID:6260388">Flow Rate Fairness: Dismantling a Religion, Briscoe
2007</a> for a well-written
example, <a href="https://api.semanticscholar.org/CorpusID:7818839">Charging and Rate Control for Elastic Traffic, Kelly
1997</a> for an early theoretical
analysis, and <a href="https://www.microsoft.com/en-us/research/publication/on-the-future-of-congestion-control-for-the-public-internet/">On the Future of Congestion Control for the Public Internet,
Brown et al.
2020</a>,
which addresses congestion in the core of the modern Internet). Whole fields of
study have developed around solving these challenges (Check out the terms
<a href="https://www.semanticscholar.org/search?q=Weighted%20Proportional%20Fairness&amp;sort=relevance">“Weighted Proportional Fairness”</a> and <a href="https://www.semanticscholar.org/search?q=Quality%20of%20Service&amp;sort=relevance">“Quality of Service”</a> or <a href="https://www.semanticscholar.org/search?q=QoS&amp;sort=relevance">“QoS”</a>). <strong>Yet the
public and hobbyist discourse around network traffic management is negligible,
limiting the exposure community network operators have to the possible tradeoffs
and options available.</strong></p>
<h2 id="challenges-to-transparency-and-control">Challenges to Transparency and Control</h2>
<p>Experienced system administrators have access to some sophisticated tools for
designing and deploying network rules via professional network management suites
(with both software and network hardware components). Yet real-world local,
community, and/or mesh networking tools (in our experience) lack the capability
for enforcing meaningful resource allocation outside flow-rate fairness. <strong>A
range of factors combine to make meaningful congestion management incredibly
hard,</strong> including but not limited to:</p>
<ul>
<li>The large number of abstractions between traffic “on the wire” and the actual
applications creating that traffic.</li>
<li>Poor choices for network equipment defaults which tend toward not enforcing
any policy.</li>
<li>The inherent complexity of network performance, especially with wireless links
serving multiple devices.</li>
<li>No reliable way to map network traffic to a real-world entity without extra
outside information.</li>
<li>The proliferation of transport layer encryption (which is a good thing!), but
which limits visibility and makes it hard to understand how the network is
actually used.</li>
<li>A lack of support of meaningful QoS tagging, even in sophisticated
applications, depending on the device operating system and network medium.</li>
<li>Non-linear and time-varying real economic costs such as monthly data caps or
wireless promotions that make it hard to decide on an optimal usage strategy.</li>
</ul>
<p>Computer networks are engineered to account for <em>flows</em> of traffic, streams of
data sent from one application to another through the network’s layers and many
links. <strong>Network engineers reason about flows because they are easy to measure
on the network itself, but in reality flows have limited meaning.</strong> Flows on
their own don’t reveal how to allocate network resources to real people and
their activities on the net.</p>
<h2 id="understanding-resources-in-community-networks">Understanding Resources in Community Networks</h2>
<p>Community networks in particular pose unique resource allocation challenges. In
community networks, a group of people organize and run their own network for
their own benefit. <strong>The goal is to maximize the utility of the network’s
physical capabilities for all members.</strong> This is in contrast to commercial
networks that seek to maximize profit, providing the least costly amount of
acceptable service while maximizing the return from end-user subscriptions.
Commercial operators often mask the fundamental capabilities of the underlying
network infrastructure for competitive advantage, and their immediate profit
motive overshadows messy concerns around resource allocation and fairness.</p>
<p>A community can be defined in as many ways as you can imagine, but importantly,
a community network is bigger than a single person or household. <strong>Community
networks care about achieving equitable division of underlying resources, and
rely on human governance structures to make decisions about fairness.</strong> The unit
entity of resource consumption in community networks can be surprisingly
complex: should resources be allocated between families, households, devices,
individuals, or other possibly overlapping identity groups (elders, students,
government workers, etc.)? Current implementations lack the flexibility to
handle all cases.</p>
<p>Beyond just allocating bandwidth proportionally between entities, community
networks may wish to incorporate other values into network management. Examples
could be prioritizing certain classes of applications over others (like
relatively lightweight real-time audio calls over bulk media consumption), or
encouraging using the network during off-peak hours to improve utilization.[^2]
Additionally the metric of interest may not be bandwidth at all, but could be
latency (as real-time digital communication has grown in importance with the
ongoing COVID pandemic), or subjective application performance. <strong>While these
ideas are easy to express abstractly, they are extremely difficult to encode in
concrete and enforceable network policies with existing systems.</strong></p>
<p>Reconceptualizing congestion management as resource allocation opens a frontier
of new possibilities for system designs and correspondingly new requirements on
the network to support resource allocations in an efficient manner. <strong>While there
is much theory to draw from, both in computer science and economics, the
challenge now is to move meaningfully beyond the status quo and actually realize
the potential of congestion management to improve the predictability,
understandability, and performance of networks for <em>everyday</em> people in the real
world.</strong> This will involve both the creation of new systems as well as improving
the availability and accessibility of existing techniques, lowering the
threshold to effective use.</p>
<hr>
<p>[^1] A video call requires ~3mbps of bandwidth with a maximum latency of a few
hundred ms. Browsing the web can tolerate longer latencies and smaller amounts
of bandwidth.</p>
<p>[^2] The implementation details of traffic management could easily have negative
implications for <em>Net Neutrality</em>, the principle that all traffic on the network
should be treated equally. I want to emphasize the difference between
prioritizing a few specific popular applications, versus prioritizing an entire
class of applications, regardless of which specific application each user should
choose to use. Unfortunately, current affordances make the former easier to
implement than the latter, which can lead to reinforcement of incumbent market
positions and lead to long-term harm to the Internet ecosystem. I hope to enable
communities to implement the latter via more general and even-handed forms of
class-based prioritization should they desire to do so.</p>
<hr>
<p>(See original post <a href="https://medium.com/uw-ictd/rethinking-network-congestion-ed122ba8ef7f">on medium</a>)</p>

  </div>
  <footer>
    <ul class="stats">
  
    
    
      <li class="categories">
        <ul>
          
            
            <li><a class="article-category-link" href="https://matt9j.net/categories/cellular">cellular</a></li>
          
        </ul>
      </li>
    
  
  
    
    
      <li class="tags">
        <ul>
          
            
            <li><a class="article-category-link" href="https://matt9j.net/tags/common-pool-resources">Common Pool Resources</a></li>
          
            
            <li><a class="article-category-link" href="https://matt9j.net/tags/lte">LTE</a></li>
          
            
            <li><a class="article-category-link" href="https://matt9j.net/tags/bandwidth">Bandwidth</a></li>
          
            
            <li><a class="article-category-link" href="https://matt9j.net/tags/community-network">Community Network</a></li>
          
            
            <li><a class="article-category-link" href="https://matt9j.net/tags/ictd">ICTD</a></li>
          
        </ul>
      </li>
    
  
</ul>

  </footer>
</article>


<div class="pagination">
  
    <a href="/posts/blm/" class="button"><div class="previous"><div>Black Lives Matter</div></div></a>
  
  
    <a href="/posts/building-iperf/" class="button"><div class="next"><div>Building iperf3 For Android 11&#43;</div></div></a>
  
</div>


      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent posts</h1>
      </header>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/integrating-iperf/">Integrating Asyncronous iperf3 Tests in Android 11&#43;</a></h1>
          <time class="published" datetime="">September 30, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/building-iperf/">Building iperf3 For Android 11&#43;</a></h1>
          <time class="published" datetime="">September 17, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/rethinking-congestion/">Rethinking network congestion (Especially in community networks)</a></h1>
          <time class="published" datetime="">January 27, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/blm/">Black Lives Matter</a></h1>
          <time class="published" datetime="">September 25, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/hello-world/">Hello World</a></h1>
          <time class="published" datetime="">January 29, 2020</time>
        </header>
      </article>
      
      
        <a href="/posts/" class="button">See more</a>
      
    </section>
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
            
          
          
          <li>
            
              <a href="/categories/publications/">publications<span class="count">8</span></a>
            
          
          <li>
            
              <a href="/categories/recipes/">recipes<span class="count">8</span></a>
            
          
          <li>
            
              <a href="/categories/cellular/">cellular<span class="count">5</span></a>
            
          
          <li>
            
              <a href="/categories/software-development/">software-development<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/personal/">personal<span class="count">1</span></a>
            
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>Currently a grad student at the University of Washington in the ICTD Lab...</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/matt9j" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//linkedin.com/in/matt9j" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/matt9j" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>





<li><a href="//scholar.google.com/citations?user=cTILBksAAAAJ" target="_blank" rel="noopener" title="Google Scholar"><i class="ai ai-google-scholar"></i></a></li>
<li><a href="//orcid.org/0000-0003-2095-0225" target="_blank" rel="noopener" title="ORCID"><i class="ai ai-orcid"></i></a></li>

<li><a href="//keybase.io/matt9j" target="_blank" rel="noopener" title="keybase" class="fab fa-keybase"></a></li>



      </ul>
  
  <p class="copyright">
    
      &copy; 2021
      
        matt9j:Matt Johnson
      
    . <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.88.1' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/bundle.min.87ac6c6c289e975bd6bceeaae259519b76127189022e0c32bc07bd359c0d083a.js" integrity="sha256-h6xsbCiel1vWvO6q4llRm3YScYkCLgwyvAe9NZwNCDo="></script>
    <script src="/js/add-on.js"></script>
    </div>
  </body>
</html>
